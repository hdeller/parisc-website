---
title: TODO
---

= PA-RISC Linux TODO (actually this is Helge's TODO list) =

== Status & TODO 2018-06-07 ==
* Drop ENOTSUP (252) constant from kernel/glibc header files. Gives problems and parisc is only platform, see libuv bug, https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=900237
* Get rid of executable stack, maybe use gateway page instead for signal returns?
* Add some cond_resched() calls to avoid RCU stalls, see commit 2a8bc5316adc998951e8f726c31e231a6021eae2
* MAYBE: Implement DCACHE_WORD_ACCESS in kernel (Complaint from Linus)
* STARTED: Nicolas Piggin: Compiling parisc without -ffunction-sections?
** check usage of CONFIG_MLONGCALLS, only 14MB/s with debian kernel and dd if=/dev/zero of=here bs=1k count=100000  ?
* implement alternative coding (see arch/x86/include/asm/alternative.h) for
** UP/SMP, and disable debian kernel 32-bit UP build
** cache-less systems (avoid cache flushes), e.g. for qemu to speed up qemu and avoid syncronization 
* add wiki page about kernel cross-compiling, refer to: http://git.infradead.org/users/segher/buildall.git and https://www.kernel.org/pub/tools/crosstool/ and https://www.kernel.org/pub/linux/kernel/people/arnd/
* STARTED: implement kexec syscall
* STARTED: report on C8000 one socket with 2 cores (done),  NUMA support?
* ONGOING: Enable UBSAN and fix fallouts
* STARTED: implement CONFIG_VMAP_STACK "virtually mapped stacks and thread_info cleanup" -> https://lwn.net/Articles/693026/
* STARTED: fix up __ro_after_init: http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=d09e356ad06a8b6f5cceabf7c6cf05fdb62b46e5
* Fix kernel to load -fpie compiled programs not at 0x400000 (ELF_ET_DYN_BASE, e.g. https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?h=linux-4.9.y&id=abb79a56898e044715d8efd07bc1902d27a94870)
* gcc optimizations:
** _mcount can be optimized (smaller) by not subtracting offset)
** check if we can use -fentry from gcc for _mcount optimization
** put PLABELS into read-only section (gcc function pa_reloc_rw_mask() needs modification, see "section mismatches" mails, 11.09.2017)
* Enable huge pages on kernel text for C8000 as well
* Enable BlockTLB on PA1.x for STI framebuffer (see block tlb info in sti.pdf documentation) and ftp://parisc.parisc-linux.org/docs/pdc32.pdf
* convert unaligned handler to use get_user/put_user inline asm
* Fix shutdown: I had issued a "shutdown -r".  As noted above, a panic occurred during the reboot (all CPUs were up). After this, stall messages were output to console after the bios version was printed.  So yes, maybe CPUs should be "stopped" before a panic reboot? (by Dave, mail from 2017-03-31) 
* Fix boot crash from Al Viro with sti gfx card (24.03.17)
* debian parisc perl bug (http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=721537) shows that mmap on parisc linux is horribly inefficient.  We allocate huge maps for small files. This should be improved. Mailthread: " parisc mmap: private file maps" ,http://www.spinics.net/lists/linux-parisc/msg05083.html  or  https://rt.perl.org/Public/Bug/Display.html?id=119567  https://rt.perl.org/Public/Bug/Display.html?id=119567 
* unaligned warning (from glibc) when running apt-get: https://sourceware.org/bugzilla/show_bug.cgi?id=20243
* kernel work
** STARTED: add dynamic ftrace support - http://git.kernel.org/cgit/linux/kernel/git/deller/parisc-linux.git/commit/?h=ftrace-dynamic&id=059645d9dadbd802d0487d1b8ab9b9269df18e0e
** convert old-style rtc driver drivers/input/misc/hp_sdc_rtc.c to new RTC model, remove the procfs and miscdevice interfaces first and replace the ioctl with a struct rtc_class_ops. Arnd Bergmann can review those patches, but Alexandre and Alessandro are the ones who would merge them once the driver is moved to drivers/rtc. (Mail from Arnd Bergmann, 28.04.2016)
** trace irq flags - http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=24131a61ec8c2d83431cb818281d3c9db986ab08
** Add core-objtool for parisc - http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=26660a4046b171a752e72a1dd32153230234fe3a
** ALPHA processor port:
*** Add https://lkml.org/lkml/2007/8/14/259 aboot patch
*** New one: https://patchwork.kernel.org/patch/10141217/ (alpha: fix crash if pthread_create races with signal delivery)
*** Kernel patches: http://marc.info/?t=140610652200001&r=1&w=2, The proposed fix is in: http://marc.info/?t=140675670100010&r=1&w=2, http://marc.info/?t=142327510200001&r=1&w=2, 
** Implement kernel VDSO support
** convert irq handling to use CONFIG_IRQ_DOMAIN_HIERARCHY (serial port problem, action handler msising when registering irq)
** Circular dependency problems with kde packages caused by vlc and ffmpeg (Dave) 
** Due to very bad performance running multiple copies of dot program (Dave)
*** In vtk6 debian package, adding DOT_NUM_THREADS = 1 helps.
*** Another issue that I have been wondering about is the performance of our kernel spinlock code.  PA 8800 and PA 8900 processors have a cache line length of 128 bytes.  I believe thereare some places where we assume 64 bytes.  We also allocate spinlocks on 16 byte boundaries. We might get better performance if we allocated on 32 (PA 1.X) and 128 (PA 2.0).  Helge: change: __PA_LDCW_ALIGNMENT
*** I've also seen that better performance may be obtained by doing a byte store to spinlock prior to ldcw.  This dirties the cache line and allows operation in cache in certain situations. I think this mainly applies to PA 1.X but I'm not sure.  I have some example code somewhere. Helge:  change struct arch_spinlock_t; in spinlock_types.h
** Implement ltrace on hppa
** SLAB breaks, SLUB works, why? Mail from Guy Martin.
** sparsemem: http://lwn.net/Articles/439472/ -> convert to sparsemem (http://lwn.net/Articles/440056/), patch available from James
** 3.14 partly: return ((unsigned long) mapping >> 7) & ((SHMLBA >> PAGE_SHIFT) - 1); in arch/parisc/kernel/sys_parisc.c
** implement .con_font_set (consw) in sticon.c (to be able to change fonts at runtime)
** why does mc hangs when exiting on sticon ?
** better implementation to get stack pointer (in return_address(), in stack checker in irq.c, ...)

* Kernel: Hard to solve outstanding issues
** megaraid on my rp5470 hangs at boot (maybe because SCSI chassis not connected)? -> use new megaraid driver for debian -> maybe patch https://patchwork.kernel.org/patch/7738911/ needed to enable PCI-PCI bridge?
** Fix FireGL X1/X3 in C8000 - currently broken (no DRM and software accel is incredibly slow <strike>plus colors in 24bpp mode are wrong</strike> seems ok in debian 8 sid / 3.16.7 kernel) - Info: manual "Radeon R5xx Acceleration" - http://www.x.org/docs/AMD/R5xx_Acceleration_v1.1.pdf  and generic: http://www.botchco.com/agd5f/?p=50 

* Kernel: still missing Linux kernel development (no patches available yet):
** maybe implement transparent huge pages (due to cache coherency technically only possible on PA8500-PA8700 CPUs, not possible on PA8800-PA8900 CPUs)
** optimize flush_dcache_page() implementation like sparc. See Documentation/cachetlb.txt, e.g. used in aio subsystem
** fix wrong _init notation in kernel
** NO_IRQ -> should be converted to (0) instead of (-1) -> Helge (check assembly, check in drivers/parisc/*)
** check assembly in drivers/parisc/*
** use pdc_add_valid() in kern_addr_valid(),  protect against crashable acesses (like for superio-pc-drivers-detection in lp), add pdc_add_valid() to create a probe_kernel_read() implementation.
** arch/parisc/kernel/sys_parisc.c -> use SYSCALL_ALIAS() -> maybe
** Review gettimeofday and clock_gettime() implementation, possibly use a light-weight-syscall and rely on cr16 and cpu speed for more accurate timing? similiar to commit http://git.kernel.org/cgit/linux/kernel/git/stable/linux-stable.git/commit/?id=18ad51dd342a7eb09dbcd059d0b451b616d4dafc 

* Kernel: Low priority patches needs further work 
** disable FP-register save/restore at kernel entry? - https://patchwork.kernel.org/patch/3975291/
** enable 16k/64k kernel page sizes (still cacheflushing-issues with SCSI driver, additional work in glibc needed to deal with >4k page size, e.g. ld-loader alignments of data/code segments)
** Superdome support - can someone test? Should work better now with latest kernels.
** Visualize FX support (will probably never happen!)
** implement BUG() and WARN() with inline assembly so that interrupt happens in delay branch of "or,<> %r0,cond,%r0". Probably not possible, because gcc will report "control reaches end of non-void function" warnings/errors.

* Debian packages / Userspace work
** IMPORTANT: fix OpenJDK - fixes required in zeroport (stack grows up!).
** Fix qemu  -> Richard Henderson started userspace-qemu in 11/2016: git://github.com/rth7680/qemu.git tgt-hppa 
** 64-bit userspace, 64-bit binutils needs to be fixed to get multiple stub section support.
** gcc -> join 32- and 64bit compiler, make "-m64" work, get rid of hppa64-linux-gnu-gcc
* userspace
** elfutils -- testsuite error
** glib2.0 -- testsuite error
** gtk+3.0 succeeds by adding this to debian/rules: touch testsuite/reftests/color-transition.ui.known_fail testsuite/reftests/linear-gradient-transition-to-other.ui.known_fail
** libgadu - testsuite fails probably due to missing pthread cancellation in glibc.
** glibc pthread cancellation: the main issue is the target specific code needed to handle stubs and signal frames.  See linux-unwind.h and hpux-unwind.h in gcc's libgcc/config/pa directory.  The function pa32_fallback_frame_state does the hard work for linux.  Hopefully, the signal tramp hasn't changed. All the unwind tests in gcc pass, so I think the implementation there is okay. It may be we need something similar to pa32_fallback_frame_state in glibc to fix cancellation
** heimdal suceeds by increasing timeout for iprop test to 120 seconds.
** cupt - build errors
** libqb - testsuite error
** libsoup2.4 -- testsuite error
** DONE: capnproto - testsuite was wrong: PARISC uses mips-floatingpoint NANs - https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=781787
** teach "blkid" about palo partition
** STARTED: why is GNU AS so slow, e.g. when building freeorion, quantlib-swig or yade packages, testcases: openturns
*** https://sourceware.org/bugzilla/show_bug.cgi?id=18427
*** http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=787192
** glibc: add backtrace() function, problems when building elfutils package: http://buildd.debian-ports.org/status/package.php?p=elfutils&suite=sid
** gcc: Add _builtin_thread_pointer() and _builtin_set_thread_pointer(), e.g.: https://gcc.gnu.org/ml/gcc-patches/2012-07/msg00428.html   for glibc: ports/sysdeps/hppa/nptl/tls.h __set_cr27()
** provide libphobos packages - gcc-defaults - http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=763103
** gdb crashes Kernel - http://permalink.gmane.org/gmane.linux.ports.parisc/5406
** debian-cd to use xorriso
** debian-cd: do not compress kernel.
   
* palo (PA-RISC Boot Loader):
** Fix palo deb package to build iplboot natively (https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=851792)
** Palo needs better user interaction instead of "0", "1".... Howtos.
** Modify (if possible), that palo can read (sequential) tftpbootable-vmlinuxes as well as the current boot-vmlinux images (simplifies build/handling)

== Upstream PA-RISC-related kernel patch history ==
* Kernel 3.8:
** unbreak automounter support on 64-bit kernel with 32-bit userspace
* Kernel 3.9:
** Integrate Dave Anglin's latest cacheflush patchset (fixes unusual userspace crashes) https://patchwork.kernel.org/patch/2480891/ - Dave 
** add ucmpdi2() symbol to kernel - https://patchwork.kernel.org/patch/2468471/ - Dave
** patch to disable -mlong-calls compiler option when building kernel modules - https://patchwork.kernel.org/patch/2480001/
** James Bottomley's explanation of kernel gateway page - in 3.10
** lib/atomic64_test.c:131:2: warning: #warning Please implement atomic64_dec_if_positive for your architecture - in 3.10
** add interrupt statistics like x86 to /proc/interrupts - in 3.10
** kernel"-crashes in the area of do_softirq() - irq stacks implemented: https://patchwork.kernel.org/patch/2497501/
** test/build kernel with allmodconfig/allyesconfig
** error in lib/mpi/longlong.h,umul_ppmm() uses floating point -> https://patchwork.kernel.org/patch/2521621/
** update MAINTAINERS file, git tree -> https://patchwork.kernel.org/patch/2580161/
** lockdep issues with irqstack patch in UP configurations. Fixed -> https://patchwork.kernel.org/patch/2589321/
** add /proc/interrupt counters for floating point assist and unaligned handler traps -> https://patchwork.kernel.org/patch/2589161
** CONFIG_PREEMPT works now -> https://patchwork.kernel.org/patch/2624241/
** parisc: make default cross compiler search more robust (v3)
** parisc: fix SMP races when updating PTE and TLB entries in entry.S
** parisc: use long branch in fork_like macro
** parisc: only re-enable interrupts if we need to schedule or deliver signals when returning to userspace
* Kernel 3.10
** stifb broken (PCI broken?) -> https://patchwork.kernel.org/patch/2636821/ -> 3.10-rc4
** parport hangs / lp -> https://patchwork.kernel.org/patch/2638331/ -> 3.10-rc4
** MAINTAINERS update -> https://patchwork.kernel.org/patch/2636601/ -> 3.10-rc4
* Kernel 3.11:
** parport (lp) fix
** defaultconfig for C8000
** C8000 workstation support in 3.11 and 3.10.X stable (serial port irq, IOMMU range fixes, FireGL radeon AGP fix, vma memory fix)
** remove arch/parisc/kernel/sys32.h
** pa_memcpy() was broken on 64bit (due to gcc miscompiling nonstandard C-code)
* Kernel 3.12:
** Fix 64bit SMP kernel on HP Visualize J-6750, 32bit SMP does work (Machine owners: Dave Land, Domenico Andreoli) -> fixed in 3.12 and backported >= kernel 2.6.12 (http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=54e181e073fc1415e41917d725ebdbd7de956455)
** fix kernel crash when running "echo t > /proc/sysrq-trigger" http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=59b33f148cc08fb33cbe823fca1e34f7f023765e
** regenerate defconfigs to include CONFIG_DEVTMPFS=y and CONFIG_DEVTMPFS_MOUNT=y to avoid udev/initrd problems. Done. http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=c1b14041aa86800cfd9e21b280b0eaee885fa623
** IMPI/BMC patch from Thomas Bogendoerfer - http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=fdbeb7de700a3c8fc85d7e595a6bf1c92a27c0a1 - test with: "ipmitool sdr"
* Kernel 3.13
** STIcon broken on 64bit with > 4GB RAM - https://patchwork.kernel.org/patch/3149621/
** New defaultconfigs for 32- and 64-bit - https://patchwork.kernel.org/patch/2825923/, enabled BMC IPMI & disabled HP SDC for 64bit
** implement audit functionality, https://patchwork.kernel.org/patch/3046731/
** avoid dependencies on bzimage during make install, https://patchwork.kernel.org/patch/3069691/
** exception table entries can be of type int (32bit), even on 64bit kernel -> saves space. - https://patchwork.kernel.org/patch/3033801/
* Kernel 3.14
** Native types in uapi/asm/stat.h
** '''Dropped HP-UX Support: changed EWOULDBLOCK = EAGAIN -> https://patchwork.kernel.org/patch/3499551/''' (important ABI change!)
** parisc: Make EWOULDBLOCK be equal to EAGAIN on parisc
** sticon font problem fixed, sticon now automatically chooses the Linux fb fonts if available instead of using the HP fonts
** '''parisc: add flexible mmap memory layout support'''
** parisc: convert uapi/asm/stat.h to use native types only
** parisc: wire up sched_setattr and sched_getattr
** parisc: fix cache-flushing
* Kernel 3.15
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=ab3e55b119c9653b19ea4edffb86f04db867ac98 epoll_pwait bug: debian packages libio-epoll-perl and python-falcon failed]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=b5f3c61d06165c3dddddbc30772f079c2c8589ca pthread_create() out-of-memory bug, failed only when used with GNU make, e.g. zeromq3 package. Reason: stack hard limit problems]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=0ef36bd2b37815719e31a72d2beecc28ca8ecd26 parisc: change value of SHMLBA from 0x00400000 to PAGE_SIZE] (backported to v3.13+)
** parisc: add renameat2 syscall
** parisc: Improve LWS-CAS performance
** parisc: ratelimit userspace segfault printing
** parisc: Use generic uapi/asm/resource.h file
** parisc: remove _STK_LIM_MAX override
** parisc: fix epoll_pwait syscall on compat kernel
** parisc: change value of SHMLBA from 0x00400000 to PAGE_SIZE
** parisc: Replace __get_cpu_var uses for address calculation
** parisc: locks: remove redundant arch_*_relax operations
** parisc: wire up sys_utimes
** parisc: Remove unused CONFIG_PARISC_TMPALIAS code
* Kernel 3.16
** parisc: Eliminate memset after alloc_bootmem_pages
** parisc: Remove SA_RESTORER define
** parisc: drop unused defines and header includes
** parisc: fix fanotify_mark() syscall on 32bit compat kernel
** parisc: add serial ports of C8000/1GHz machine to hardware database
* Kernel 3.17
** parisc: Fix serial console for machines with serial port on superio chip
** parisc: Only use -mfast-indirect-calls option for 32-bit kernel builds
** parisc: pdc_stable.c: Avoid potential stack overflows
** parisc: pdc_stable.c: Cleaning up unnecessary use of memset in conjunction with strncpy
** parisc: ptrace: use secure_computing_strict()
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=89206491201cbd1571009b36292af781cef74c1b parisc: Implement new LWS CAS supporting 64 bit operations, CAS implementation: implement 1,2,4 and 8 byte CAS]  (backported to v3.13+) 
** parisc: Wire up seccomp, getrandom and memfd_create syscalls
** parisc: dino: fix %d confusingly prefixed with 0x in format string
** parisc: sys_hpux: NUL terminator is one past the end
** parisc: Use get_signal() signal_setup_done()
* Kernel 3.18
** '''parisc: Reduce SIGRTMIN from 37 to 32 to behave like other Linux architectures''' (important ABI change!)
** parisc: Avoid using CONFIG_64BIT in userspace exported headers      
** parisc: Use compat layer for msgctl, shmat, shmctl and semtimedop syscalls (backported to v3.10+)
** parisc: Use BUILD_BUG() instead of undefined functions
** parisc: Wire up bpf syscall
* Kernel 3.19
** parisc: fix out-of-register compiler error in ldcw inline assembler function
* Kernel 4.0
** parisc: Wire up execveat syscall
** parisc: Add error checks when building up signal trampoline handler
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=04c1614977168fb8f002e2d81f704eeabe0c5ebd '''parisc: hpux - Drop support for HP-UX binaries''']
** parisc: hpux - Do not compile hpux subdirectory
** parisc: hpux - Delete files in hpux subdirectory
** parisc: hpux - Remove hpux gateway page
** parisc: hpux - Remove HPUX syscall numbers
** fs/binfmt_som: Drop kernel support for HP-UX SOM binaries
** parisc/uaccess: fix sparse errors
** parisc: macro whitespace fixes
** parisc: Add compile-time check when adding new syscalls
** parisc: Fix pmd code to depend on PT_NLEVELS value, not on CONFIG_64BIT
** parisc: mm: don't count preallocated pmds
* Kernel 4.1
** parisc: Replace PT_NLEVELS with CONFIG_PGTABLE_LEVELS
** parisc: Eliminate sg_virt_addr() and private scatterlist.h
** parisc: copy_thread(): rename 'arg' argument to 'kthread_arg'
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=d045c77c1a69703143a36169c224429c48b9eecd '''parisc,metag: Fix crashes due to stack randomization on stack-grows-upwards architectures''']  (backported to v3.16+)
*** DONE: fix VA randomization regarding to stack limits (testcase: ocaml build, temporarily fix: echo 0 > /proc/sys/kernel/randomize_va_space or add to /etc/sysctl.conf: sys.kernel.randomize_va_space = 0)
** parisc: %pf is only for function pointers
** parisc: copy_thread(): rename 'arg' argument to 'kthread_arg'
* Kernel 4.2
** parisc: don't use module_init for non-modular core pdc_cons code
** parisc: use for_each_sg()
** stifb: Implement hardware accelerated copyarea
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=01ab60570427caa24b9debc369e452e86cd9beb4 parisc: Fix some PTE/TLB race conditions and optimize __flush_tlb_range based on timing results] (backported to v3.18+)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=4c4ac9a48ac512c6b5a6cca06cfad2ad96e8caaa '''parisc: mm: Fix a memory leak related to pmd not attached to the pgd'''] (backported to v4.0+)
* Kernel 4.3
** parisc: Define ioremap_uc and ioremap_wc
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=e02a653e15d8d32e9e768fd99a3271aafe5c5d77 '''PCI,parisc: Enable 64-bit bus addresses on PA-RISC''']
** parisc: Additionally check for in_atomic() in page fault handler
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=b1b4e435e4ef7de77f07bf2a42c8380b960c2d44 '''parisc: Filter out spurious interrupts in PA-RISC irq handler'''] - fixes crashes due to serial ports at boot on C8000 with PA8900 CPUs (backported to all) 
** parisc: Drop CONFIG_SMP around update_cr16_clocksource()
** parisc: Use platform_device_register_simple("rtc-generic")
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=1b59ddfcf1678de38a1f8ca9fb8ea5eebeff1843 '''parisc: Use double word condition in 64bit CAS operation'''] - fixes 64bit gcc builtin atomics (backported to all)
* Kernel 4.4
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=a01fece2e4185ac173abd16d10304d73d47ebf00 parisc: Change L1_CACHE_BYTES to 16]
** net/xps: Fix calculation of initial number of xps queues
** parisc: reduce syslog debug output
** parisc: serial/mux: Convert to uart_console_device instead of open-coded
** parisc: Wire up userfaultfd syscall
** parisc: allocate sys_membarrier system call number
** parisc: Drop hpux_stat64 struct from stat.h header file
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=d0cf62fb63f760e98244d31396b3b58f3a1e326b '''parisc: Fixes and cleanups in kernel uapi header files'''] (backported to 3.18+)
** parisc: Fix wrong comment regarding first pmd entry flags
** parisc: Drop definition of start_thread_som for HP-UX SOM binaries
** parisc: Drop unused MADV_xxxK_PAGES flags from asm/mman.h
** '''parisc: Add defines for Huge page support'''
** parisc: Initialize the fault vector earlier in the boot process.
** parisc: Increase initial kernel mapping to 32MB on 64bit kernel
** parisc: Use long branch to do_syscall_trace_exit
** '''parisc: Add Huge Page and HUGETLBFS support'''
** parisc: Map kernel text and data on huge pages
** parisc: Remove unused pcibios_init_bus()
** parisc: Wire up mlock2 syscall
** parisc: Disable huge pages on Mako machines
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=e46e31a3696ae2d66f32c207df3969613726e636 '''parisc iommu: fix panic due to trying to allocate too large region'''] (backported to all)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=71a71fb5374a23be36a91981b5614590b9e722c3 '''parisc: Fix syscall restarts'''] (backported to all)
* Kernel 4.5
** parisc: Protect huge page pte changes with spinlocks 
** parisc: Imporove debug info about space registers and TLB configuration
** parisc: Drop parisc-specific NSIGTRAP define
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=e60fc5aa608eb38b47ba4ee058f306f739eb70a0 '''parisc: Fix __ARCH_SI_PREAMBLE_SIZE'''] (backported to all)
** parisc: Reduce overhead of parisc_requires_coherency()
** parisc: Initialize PCI bridge cache line and default latency  (related to https://patchwork.kernel.org/patch/7738911/)
** parisc: Use parentheses around expression in floppy.h
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=98e8b6c9ac9d1b1e9d1122dfa6783d5d566bb8f7 '''parisc: Fix ptrace syscall number and return value modification'''] (backported to v4.0+)
** parisc: Wire up copy_file_range syscall
* Kernel 4.6
** parisc: Panic immediately when panic_on_oops
** parisc: Drop alloc_hugepages and free_hugepages syscalls
** parisc,metag: Implement CONFIG_DEBUG_STACK_USAGE option
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=0de798584bdedfdad19db21e3c7aec84f252f4f3 parisc: Use generic extable search and sort routines]
** parisc: Wire up preadv2 and pwritev2 syscalls
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=4f4acc9472e54ce702f1d85fc9e6d57767dec91f parisc: Fix SIGSYS signals in compat case] (backported to v4.5)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=910cd32e552ea09caa89cdbe328e468979b030dd parisc: Fix and enable seccomp filter support] (backported to v4.5)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=592570c950fb455226cd255603de7cede2be83e6 parisc: Handle R_PARISC_PCREL32 relocations in kernel modules]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=e3893027a300927049efc1572f852201eb785142 '''parisc: Avoid function pointers for kernel exception routines'''] - backported to all
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=ef72f3110d8b19f4c098a0bff7ed7d11945e70c6 '''parisc: Fix kernel crash with reversed copy_from_user()'''] - backported to all
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=2ef4dfd9d9f288943e249b78365a69e3ea3ec072 '''parisc: Unbreak handling exceptions from kernel modules'''] - backported to all
** parisc: Update comment regarding relative extable support
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=366dd4ea9d5f0eb78fdf4982d76506f99480ec0a '''parisc: Fix ftrace function tracer'''] (not backported, maybe it should have been?)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=f0b22d1bb2a37a665a969e95785c75a4f49d1499 parisc: fix a bug when syscall number of tracee is __NR_Linux_syscalls] (backported to v4.0+)
* Kernel 4.7
** parisc: Fix typo in pdc.h
** parisc: Fix typo in ldcw.h
** parisc: Fix typos in eisa_eeprom.h
** parisc: Fix typo in fpudispatch.c
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=fc79168a7c75423047d60a033dc4844955ccae0b parisc: Add syscall tracepoint support]
** parisc: Simplify and speed up get_user() and put_user()
** parisc: Add 64bit get_user() and put_user() for 32bit kernel
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=64e2a42bca12e408f0258c56adcf3595bcd116e7 parisc: Add ARCH_TRACEHOOK and regset support]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=54b668009076caddbede8fde513ca2c982590bfe '''parisc: Add native high-resolution sched_clock() implementation''']
** parisc: Merge ftrace C-helper and assembler functions into .text.hot section
** parisc: Use long jump to reach ftrace_return_to_handler()
** parisc: Whitespace cleanups in unistd.h
** parisc: Update futex.h to match generic implementation
** parisc: Fix printk time during boot
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=8b78f260887df532da529f225c49195d18fef36b parisc: Fix pagefault crash in unaligned __get_user() call] - backported to all
** parisc: Move die_if_kernel() prototype into traps.h header
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=be24a89700eef61bedaba40f3b05ef07f5806e38 parisc: Fix backtrace on PA-RISC]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=8beb330044d0d1878c7b92290e91c0b889e92633 '''53c700: fix BUG on untagged commands'''] - fixes SCSI on 712/715 machines with sym7xx driver (backported to 4.6)
* Kernel 4.8
** parisc: Change structure intialisation to C99 style in iomap.c
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=773e1c5fa4bf1faa25e119490b26ece2ef1bdb46 parisc: Add <asm/hash.h>]
** parisc: Add break statements to pdc_pat_io_pci_cfg_read()
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=ae141830b118c3fb5b7eab6fa7c8ab7b7224b0a4 '''parisc: Fix automatic selection of cr16 clocksource'''] (backported to 4.7)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=3eb53b20d7bd1374598cfb1feaa081fcac0e76cd '''parisc: Fix order of EREFUSED define in errno.h'''] (backported to all)
* Kernel 4.9
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=690d097c00c88fa9d93d198591e184164b1d8c20 '''parisc: Increase KERNEL_INITIAL_SIZE for 32-bit SMP kernels'''] (backported to 4.4+)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=4fe9e1d957e45ad8eba9885ee860a0e93d13a7c7 parisc: Drop bootmem and switch to memblock]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=9e91db6b4abecd58647a5e984d538187f1c2ea09 parisc: Add hardened usercopy feature]
** parisc: Add cfi_startproc and cfi_endproc to assembly code
** parisc: Move hpmc stack into page aligned bss section
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=92420bd0d01f040bbf754e1d090be49ca6a1c8d6 '''parisc: Fix self-detected CPU stall warnings on Mako machines'''] (backported to 4.7+)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=b391667eb45a5a888bc9372462c5f647418c31af parisc: Report trap type as human readable string]
** parisc: Update comment regarding implementation of copy_user_page_asm
** parisc: Use kmalloc_array() in add_system_map_addresses()
** parisc: Check return value of smp_boot_one_cpu()
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=b5d5cf2b8a68618a8ec646cab5746e2f539dc244 parisc: Drop BROKEN_RODATA config option]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=65bf34f59594c11f13d371c5334a6a0a385cd7ae '''parisc: Increase initial kernel mapping size'''] (backported to v4.4+)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=f8850abb7ba68229838014b3409460e576751c6d '''parisc: Fix kernel memory layout regarding position of __gp'''] (backported to v4.4+)
** parisc: Move exception table into read-only section
** parisc: Zero-initialize newly alloced memblock
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=0a862485f42af7df530b0b5f0e5ba8ffbb3a4a12 parisc: Show trap name in kernel crash]
** parisc: Migrate exception table users off module.h and onto extable.h
** parisc: use KERN_CONT when printing device inventory
** parisc: Use LINUX_GATEWAY_ADDR define instead of hardcoded value
** parisc: Ignore the pkey system calls for now
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=f4125cfdb3008363137f744c101e5d76ead760ba '''parisc: Avoid trashing sr2 and sr3 in LWS code''']
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=6ed518328d0189e0fdf1bb7c73290d546143ea66 '''parisc: Ensure consistent state when switching to kernel stack at syscall entry'''] (backported to all)
** parisc: Fix printk continuations in system detection
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=43b1f6abd59063a088416a0df042b36450f91f75 '''parisc: Switch to generic sched_clock implementation'''] (backported to v4.7+)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=741dc7bf1c7c7d93b853bb55efe77baa27e1b0a9 '''parisc: Fix races in parisc_setup_cache_timing()'''] (backported to v3.18+)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=c0452fb9fb8f49c7d68ab9fa0ad092016be7b45f '''parisc: Fix race in pci-dma.c'''] (backported to v3.16+)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=5035b230e7b67ac12691ed3b5495bbb617027b68 '''parisc: Also flush data TLB in flush_icache_page_asm'''] (backported to v3.16+)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=24d0492b7d5d321a9c5846c8c974eba9823ffaa0 parisc: Fix TLB related boot crash on SMP machines] (backported to v3.18+)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=c78e710c1c9fbeff43dddc0aa3d0ff458e70b0cc parisc: Purge TLB before setting PTE] (backported to v3.16+)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=febe42964fe182281859b3d43d844bb25ca49367 parisc: Remove unnecessary TLB purges from flush_dcache_page_asm and flush_icache_page_asm] (backported to v3.16+)
* Kernel 4.10
** parisc: perf: return -EFAULT on error
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=18d98a79382cbe5a7569788d5b7b18e7015506f2 parisc: Enable KASLR]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=5c38602d83e584047906b41b162ababd4db4106d parisc: Re-enable interrupts early]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=637250cc8f5e2bfc5c3a96802d1d96b4987a1d62 parisc: Enhance CPU detection code on PAT machines]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=160494d381373cfa21208484aea4e5db2d3cb0a8 parisc: Optimize timer interrupt function]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=41744213602a206f24adcb4a2b7551db3c700e72 '''parisc: Mark cr16 clocksource unstable on SMP systems'''] (backported to v4.8+)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=1fe0a7e0bc52024a445945c9e7691551aba97390 parisc: Drop TIF_RESTORE_SIGMASK and switch to generic code]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=b4a9eb4cd5966c8aad3d007d206a2cbda97d6928 parisc: Add line-break when printing segfault info] (backported to v4.9)
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=83b5d1e3d3013dbf90645a5d07179d018c8243fa parisc, parport_gsc: Fixes for printk continuation lines]
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=2ad5d52d42810bed95100a3d912679d8864421ec '''parisc: Don't use BITS_PER_LONG in userspace-exported swab.h header'''] (backported to all, build-fix for qemu)
* Kernel 4.11
** parisc: eisa: Remove coding style errors
** parisc: eisa: Fix resource leaks in error paths
** parisc: ccio-dma: Handle return NULL error from ioremap_nocache
** parisc: fix a printk
** parisc: Define access_ok() as macro
** [http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=ef470a60e10eb12635d7b84c9502cea3028d44e8 parisc: Remove flush_user_dcache_range and flush_user_icache_range]
** parisc: perf: Fix potential NULL pointer dereference
** parisc: Wire up statx system call
** parisc: Avoid compiler warnings with access_ok()
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=73580dac7618e4bcd21679f553cf3c97323fec46 parisc: Fix system shutdown halt]
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=316ec0624f951166daedbe446988ef92ae72b59f parisc: Optimize flush_kernel_vmap_range and invalidate_kernel_vmap_range]
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5f655322b1ba4bd46e26e307d04098f9c84df764 parisc: support R_PARISC_SECREL32 relocation in modules] (backported to v4.10+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=554bfeceb8a22d448cd986fc9efce25e833278a1 '''parisc: Fix access fault handling in pa_memcpy()'''] (backported to v4.9+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=554bfeceb8a22d448cd986fc9efce25e833278a1 '''parisc: Clean up fixup routines for get_user()/put_user()'''] (backported to v4.9+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=476e75a44b56038bee9207242d4bc718f6b4de06 parisc: Avoid stalled CPU warnings after system shutdown] (backported to v4.9+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=409c1b250e30ad0e48b4d15d7319b4e18c046c4f '''parisc: fix bugs in pa_memcpy'''] (backported to v4.9+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=3f795cef0ecdf9bc980dd058d49bdab4b19af1d3 '''parisc: Fix get_user() for 64-bit value on 32-bit kernel'''] (backported to v4.9+)
* Kernel 4.12
** (none beside backports, pull request was too late during merge window)
* Kernel 4.13
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b0f94efd5aa8daa8a07d7601714c2573266cd4c9 '''parisc: use compat_sys_keyctl()'''] (backported to all)
** parisc: Inline trivial exception code in lusercopy.S
** parisc: Drop per_cpu uaccess related exception_data struct
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c8c3735997a3aa184fa81742bb6c4062a26af2f3 '''parisc: Enhance detection of synchronous cr16 clocksources''']
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c9c2877d08d9aa0ca0a5c227ac795fbb76269300 '''parisc: Add Page Deallocation Table (PDT) support''']
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=649aa24254e85bf6bd7807dd372d083707852b1f '''parisc/mm: Ensure IRQs are off in switch_mm()'''] (backported to  v4.7+)
** parisc: Avoid zeroing gr[0] in fixup_exception()
** parisc: Don't hardcode PSW values in gsc_*() functions
** parisc: Don't hardcode PSW values in hpmc code
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=247462316f85a9e0479445c1a4223950b68ffac1 '''parisc: Report SIGSEGV instead of SIGBUS when running out of stack'''] (backported to all, fixes libsigsegv package)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=33f9e02495d15a061f0c94ef46f5103a2d0c20f3 '''parisc: DMA API: return error instead of BUG_ON for dma ops on non dma devs'''] (backported to v3.13+, fixes parport_pc module crash)
** parisc: ->mapping_error
** parisc: pdc_stable: constify attribute_group structures.
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5bc64bd246ca00e0bb0b7137afaf586f2f66a911 '''parisc: Disable further stack checks when panic occurs during stack check''']
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=6cd819e8e978b361ae558056a9e79fd30e6acb0d parisc: Merge millicode routines via linker script]
** parisc: regenerate defconfig files
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f520e55241e1cf0c10d308ccf47513f28533f60a parisc: Fix crash when calling PDC_PAT_MEM PDT firmware function]
** parisc: Add function to return DIMM slot of physical address
** parisc: Show DIMM slot number which holds broken memory module
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=56188832a50f09998cb570ba3771a1d25c193c0e '''parisc: Suspend lockup detectors before system halt'''] (backported to v4.9+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ae7a609c34b6fb12328c553b5f9aab26ae74a28e '''parisc: Prevent TLB speculation on flushed pages on CPUs that only support equivalent aliases'''] (backported to v4.9+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=56008c04ebc099940021b714da2d7779117cf6a7 parisc: Extend disabled preemption in copy_user_page]
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=74ad3d28af2104b92dd83a43add79e6a8c45d8e2 parisc: Define CONFIG_CPU_BIG_ENDIAN]
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8f8201dfed91a43ac38c899c82f81eef3d36afd9 '''parisc: Increase thread and stack size to 32kb'''] (backported to v4.11+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=93964fd4ea6ab86a2d2853a9ae56ae0c24cbbe16 parisc: pdc_stable: Fix locking when creating sysfs links]
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=13d57093c141db2036364d6be35e394fc5b64728 '''parisc: Handle vma's whose context is not current in flush_cache_range'''] (backported to v4.9+)
** printk-formats.txt: Better describe the difference between %pS and %pF
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4098116039911e8870d84c975e2ec22dab65a909 '''parisc: pci memory bar assignment fails with 64bit kernels on dino/cujo'''] (backported to all)
* Kernel 4.14
** parisc: Add MADV_HWPOISON and MADV_SOFT_OFFLINE
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8a5aa00e6b9630d36d7681b38062a3d48d8b6ee6 '''parisc: PDT/firmware: Add support to read PDT on older PAT-machines''']
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=54ac8fcbd6e6777929235ac767467991005d2df3 '''parisc: PDT: Add full support for memory failure via Page Deallocation Table (PDT)''']
** parisc: Static initialization of spinlocks in perf and unwind code
** parisc: Drop exception_data struct
** parisc: Static initialization of pcxl_res_lock spinlock
** parisc: Drop MADV_SPACEAVAIL, MADV_VPS_PURGE and MADV_VPS_INHERIT
** parisc/random: Add machine specific randomness
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e35a2ce692821563583fa8b11ddf4acb24e54580 '''parisc: Enable UBSAN support''']
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2f3c7b8137ef6a3f90850d7cb5dbd05d8940403a '''parisc: Add core code for self-extracting kernel''']
** parisc: Make existing core files reuseable for bootloader
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b6adc16e08e0ee8bbc9cccf7af3882b6e1cb30c2 '''parisc: Wire up support for self-extracting kernel''']
** parisc/harmony: Fix section mismatches
** parisc/sticore: Fix section mismatches
** parisc/mux: Fix section mismatches
** parisc/8250_gsc: Fix section mismatches
** parisc/scsi/zalon: Fix section mismatches
** parisc/scsi/lasi700: Fix section mismatches
** parisc/parport_gsc: Fix section mismatches
** parisc: Fix section mismatches in parisc core drivers
** parisc/serio: Fix section mismatches in gscps2 and hp_sdc drivers
** parisc/net/lasi_82596: Fix section mismatches
** parisc/input/hilkbd: Fix section mismatches
** parisc/ipmi_si_intf: Fix section mismatches on parisc platform
** parisc/core: Fix section mismatches
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=d81f734462d439291531266c4004ab97e9a033cc '''parisc: Fix up devices below a PCI-PCI MegaRAID controller bridge''']
** printk-formats.txt: Add examples for %pF and %pS usage
** parisc: Optimize switch_mm
** parisc: Fix too large frame size warnings
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e77900abfd8be4e207412d8b7752dbb9838e2571 parisc: Stop unwinding at start of stack]
** parisc: Move start_parisc() into init section
** parisc: Add wrapper for pdc_instr() firmware function
** parisc: Add PDCE_CHECK instruction to HPMC handler
** parisc: Check if initrd was loaded into broken RAM
** parisc: Move init_per_cpu() into init section
** [https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=606f95e4255845155f62504a9e1f12665b1853c8 '''parisc: Add HWPOISON page fault handler code''']
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=af21b01d1166248f282fc02d0f459c94de06615e '''parisc: Reintroduce option to gzip-compress the kernel''']
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8c031ba63f8f2a9efc471cb45b2ff18271556544 '''parisc: Unbreak bootloader due to gcc-7 optimizations''']
** parisc: Export __cmpxchg_u64 unconditionally
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8642b31ba9eef8a01845146a26682d4869e62513 '''parisc: Fix detection of nonsynchronous cr16 cycle counters'''] (backported to v4.13+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=374b3bf8e8b519f61eb9775888074c6e46b3bf0c '''parisc: Fix double-word compare and exchange in LWS code on 32-bit kernels'''] (backported to all/v3.13+)
* Kernel 4.15
** arch: Fix duplicates in Kconfig for parisc and sparc
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=bc5a768e567df51f43778da381477f6555f3824c parisc: Make some PDC structures accessible in uapi headers]
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=3744d988c05a27f40408003352841aefadba1324 parisc: Pass endianness info to sparse]
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=bf7b4c1b3c92f246a535a7c792177041d0442011 '''parisc: Add CPU topology support''']
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=05f016d2ca7a4fab99d5d5472168506ddf95e74f '''parisc: Fix validity check of pointer size argument in new CAS implementation'''] (backported to all/v3.13+)
** parisc: Fix indenting in puts() (backported to v4.14)
** parisc: Align os_hpmc_size on word boundary (backported to v4.14)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=bcf3f1752a622f1372d3252d0fea8855d89812e7 '''parisc: Hide Diva-built-in serial aux and graphics card'''] (backported to all/v3.0+) - '''important for rp3410/rp3440 machines'''
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=9352aeada4d8d8753fc0e414fbfe8fdfcb68a12c '''Revert "parisc: Re-enable interrupts early"'''] (backported to v4.10+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=da57c5414f49ef9e4bcb9ae0bbafd1d650b31411 '''parisc: Reduce thread stack to 16 kb''']
** parisc: remove duplicate includes
** parisc: Show unhashed hardware inventory
** parisc: Show initial kernel memory layout unhashed
** parisc: Show unhashed HPA of Dino chip
** parisc: Show unhashed EISA EEPROM address
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=88776c0e70be0290f8357019d844aae15edaa967 '''parisc: Fix alignment of pa_tlb_lock in assembly on 32-bit SMP kernel''']  (backported to v4.0+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=310d82784fb4d60c80569f5ca9f53a7f3bf1d477 '''parisc: qemu idle sleep support''']  (backported to v4.9+)
* Kernel 4.16
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=fd8d0ca2563151204f3fe555dc8ca4bcfe8677a3 parisc: Hide virtual kernel memory layout] (backported to v4.15)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=0ed1fe4ad394e54783bbffa84102faf435661a2e parisc: Check if secondary CPUs want own PDC calls] 
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5ffa8518851f1401817c15d2a7eecc0373c26ff9 parisc: Use cr16 interval timers unconditionally on qemu] (backported to v4.14+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=636a415bcc7f4fd020ece8fd5fc648c4cef19c34 parisc: Reduce irq overhead when run in qemu] (backported to v4.14+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=0adb24e03a124b79130c9499731936b11ce2677d '''parisc: Fix ordering of cache and TLB flushes'''] (backported to v4.9+)
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=9ef0f88fe5466c2ca1d2975549ba6be502c464c1 '''parisc: Handle case where flush_cache_range is called with no context'''] (backported to v4.9+)
* Kernel 4.17
** parisc: Silence uninitialized variable warning in dbl_to_sgl_fcnvff()
** parisc/stifb: Use fb_memset() to avoid sparse warning
** parisc/parport_gsc: Use NULL to avoid sparse warning
** parisc/led: Fix sparse warnings
** parisc/gscps2: Fix sparse warnings
** parisc: Force to various endian types for sparse
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=d5b59a71204b0a9a55eda633347b1214642bead3 '''parisc: Convert MAP_TYPE to cover 4 bits on parisc''']
** parisc: Move various functions and strings to init section
** parisc/Kconfig: SMP kernels boot on all machines
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=24002d59376e2d19a2a523fe88d5b32e691a43af '''parisc: machine_power_off() should call pm_power_off()''']
** parisc: Directly call machine_power_off() in power button driver
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=d5654e156bc4d68a87bbaa6d7e020baceddf6e68 '''parisc: Fix HPMC handler by increasing size to multiple of 16 bytes''']
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b845f66f78bf42a4ce98e5cfe0e94fab41dd0742 '''parisc/pci: Switch LBA PCI bus from Hard Fail to Soft Fail mode''']
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=a77ab0e7ce232a62adac3d85b9ae66d0f48385ac '''parisc: Add code generator for Qemu/SeaBIOS machine info''']
** parisc: Fix out of array access in match_pci_device()
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c6185e285c5c7cfeab739bae7f206ced695f09c7 '''ipmi/parisc: Add IPMI chassis poweroff for certain HP PA-RISC and IA-64 servers''']
** parisc/signal: Add FPE_CONDTRAP for conditional trap handling
** parisc: Move cache flush functions into .text.hot section
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=71d577db01a5177c7807a2f3d3df9bab9d21c500 parisc: Switch to generic COMPAT_BINFMT_ELF]
** [http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=67698287031be7c1821f9b151237ca8cdb231fd1 parisc: Prevent panic at system halt]
** parisc: time: Convert read_persistent_clock() to read_persistent_clock64()
** parisc: Make bzImage default build target
** parisc: Document rules regarding checksum of HPMC handler
** parisc: drivers.c: Fix section mismatches
** parisc: Fix section mismatches

== Debian kernel and userspace programs ==
* PALO (http://git.kernel.org/cgit/linux/kernel/git/deller/palo.git/)
** DONE: increase palo command line from 128 bytes (max from kernel is 1024 currently) -> fixed in palo 1.92. 
** DONE: accept /boot/ in front of files, strip path (e.g. "/boot") when given for kernel/ramdisk 
** DONE: Migrate to git.kernel.org -> done: http://git.kernel.org/cgit/linux/kernel/git/deller/palo.git/
** DONE: add gzip-support (allow loading gzipped vmlinux files)
** DONE: in interactive mode, add reboot option command
** DONE: [https://git.kernel.org/cgit/linux/kernel/git/deller/palo.git/commit/?id=70bd7a9a41e318c0575755a78c4d18ad97495c47 '''Unbreak loading Linux kernels bigger than 16 MB'''] (fixed in palo 1.96, Oct. 2016)

Debian kernel / Generic Kernel bugs fixed
** DONE: Fixed 64bit SMP kernel & sticon on machines with more than 4GB RAM (Kernel 3.12)
** DONE: Lots of syscall fixes regarding compat kernel
** DONE: send patches to remove UP from debian kernels, use sil680 instead of siimage, see http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=721191 -> fixed in 3.12 / 3.13
** DONE: Enable BMC in c8000 default kernel config - ipmi driver (CONFIG_IPMI_HANDLER=y) - http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=747482
** DONE: remove HIL RTC from debian kernel - it creates a backtrace at boot because we have already another rtc0 active.
** DONE: add ppdev driver, needed by CUPS, systemd reports missing module load (3.17 & 3.16 kernel)
** DONE: Add crc-modules, event, isofs, jfs, mouse, sata, sound, squashfs, udf, uinput, scsi-common, scsi-extra, loop, serial and usb-serial debian-installer packages
** DONE: Kernel build problem: a) disable -mfast-indirect-calls in Makefile, b) gcc compiler bug in > gcc-4.8.3-3
** DONE: Drop HPUX-support from kernel (Kernel 4.0)
** DONE: implemented HUGE pages
** DONE: kernel timerfd_settime/timerfd_gettime issue, test with debian package:  liblinux-fd-perl -> https://patchwork.kernel.org/patch/7951661/, backported to all kernels
** DONE: kernel ptrace bug: http://thread.gmane.org/gmane.linux.ports.parisc/26273, possible fix: https://patchwork.kernel.org/patch/8063301/
** DONE: Implement CONFIG_DEBUG_STACK_USAGE, in kernel 4.6
** DONE: Use 32bit exception table entries, in kernel 4.6
** DONE: implemented seccomp syscal, including SECCOMP_MODE_STRICT and mode 2
** DONE: Fixed FTRACE support (http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=366dd4ea9d5f0eb78fdf4982d76506f99480ec0a)
** DONE: Add syscall ftrace support
** DONE: Simplify get_user()/put_user() with regard to %sr0/%sr2 usage.
** DONE: Add tracehook support (needed for seccomp testcases, gdb, ...)
** DONE: Added high-resolution sched_clock clocksources in 4.7, needed for debian packages: ismrmrd, haskell-http-conduit, ... 
** DONE: Detect physically broken memory via Page Deallocation Table (PDT), initial support in kernel 4.13
** DONE: Make kernel self-decompressing (instead of palo reading gzipped kernels)
** DONE: fix %pF and %pS usage in all kernel code
** DONE: Enabled BMC/IPMI including Remote power on/off on C8000 and rp3410 machines (kernel 4.17 and above)
** DONE: use CONFIG_COMPAT_BINFMT_ELF and get rid of arch/parisc/kernel/binfmt_elf32.c
** DONE: Fix kernel writing core file, gdb reporting: BFD: Warning: /tmp/core.http.1655.ls3011.1465554447 is truncated: expected core file size >= 2187264, found: 2121728.

* Debian installer:
** DONE: test xorriso (Thomas Schmitt, scdbackup)
** DONE: Build real debian-installer CD. See: https://wiki.debian.org/Simple-CDD/Howto
** DONE: we need a kernel debian package (3.10 based or higher)
** DONE: [http://anonscm.debian.org/cgit/d-i/attic/palo-installer.git/ palo-installer: fix palo entry "root=/dev/sda5" to become "root=UUID=XXXX"]  

* binutils:
** DONE: Add linker -fpie support, https://sourceware.org/bugzilla/show_bug.cgi?id=18421, debian package iceweasel and others
** DONE: Using "gcc -o /dev/null" gives "ld: final link failed: File truncated" error: https://sourceware.org/bugzilla/show_bug.cgi?id=19526

* gcc:
** DONE: Linker reports "XXX referenced in section `.data.rel.ro.local' of YYY: defined in discarded section `.text._ZXXX"
*** [https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;a=commitdiff;h=da6e19a92645583da12dc2d15f54d2bd240fd3f2;hp=7d8a636c9a234354c9b2ecf01b6e405bece190a1 binutils fix in bfd/elf32-hppa] and [https://gcc.gnu.org/bugzilla/show_bug.cgi?id=67834 gcc upstream bug report] and [https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=801531 Debian binutils bug report]
** DONE: Qt5/KDE signal & slot issue: Pointers to method types need canonicalization before comparison, fixed in gcc: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=68079

* glibc:
** DONE: Problem building libcap-ng...The problem is the call to __tls_get_addr clobbers the value loaded into %r26 for the printf call. -> http://gcc.gnu.org/bugzilla/show_bug.cgi?id=59777 
** DONE: O_SYNC wrongly defined in glibc (typo in hppa __O_SYNC define in <bits/fcntl.h>)
** DONE: eglibc mmap bug with localedef (see debian bugzilla http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=741243)
** DONE: Wrong __gmon_start__ symbol, showed in vlc - linker does not drop dependencies to unneeded shared libs, https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=770741. glibc bug report: https://sourceware.org/bugzilla/show_bug.cgi?id=19170
** DONE: nss - dladdr from glibc returns wrong names on hppa, http://article.gmane.org/gmane.linux.ports.parisc/26290, Solution: https://sourceware.org/bugzilla/show_bug.cgi?id=19415
** DONE: gcc userspace support for variable CAS (gcc atomic ops, __sync_XXX), initial support in kernel 3.17, http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=89206491201cbd1571009b36292af781cef74c1b)
*** gcc-4.9 commit: https://gcc.gnu.org/viewcvs/gcc?view=revision&revision=227914
*** gcc-5.0 commit: https://gcc.gnu.org/viewcvs/gcc?view=revision&revision=227913
*** packages needing rebuild: libatomic-ops (gauche and libgc have copies of libatomic-ops included), x265, ceph, lizardfs, firebird2.5, gauche, idba, mapsembler2, padevchooser, filezilla, idba, http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=785654
*** __sync_val_compare_and_swap_8 was missing in: openvdb, idba, lizardfs, ...

* Debian userspace:
** DONE: qt4-x11: Improve atomic support on parisc (https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=741190)
** DONE: haskell (ghc) hangs: futex(0xea00d08e, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EINVAL (Invalid argument). Solution: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=756260#15
** DONE: port openmpi package: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=776730
** DONE: Fix msgpuck build breakage: https://buildd.debian.org/status/package.php?p=msgpuck&suite=sid

== ABI breakages (HP-UX support) ==
* We dropped HP-UX support in kernel 3.14 by changing EWOULDBLOCK==EAGAIN. (I believe we should pull the plug on HP-UX entirely.  If there ever was enough interest, It should be supported in a VM.  Machines are relatively cheap now.  So, if someone needs hpux, they can buy a machine for it.) We have a more diverse user space under Linux and I believe in supporting open source, so we should focus on it -> http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=f5a408d53edef3af07ac7697b8bc54a755628450
* Changed RTSIGMIN to 32 (from 37) - http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=1f25df2eff5b25f52c139d3ff31bc883eee9a0ab
** debian glibc report: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=766605
** debian kernel bug report: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=766635
** September 7th 2014: First delivery with vmlinux-3.16.0-4 (aka linux-image-3.16.0-4-parisc64-smp_3.16.7-1_hppa.deb)
** rebuild of following packages needed:
*** unxz-utils: rebuild unxz to fix usage of SIGXFSZ
*** strace and gdb: fix signal names/numbers
*** libgc: gives "Cannot set SIG_THR_RESTART handler" error since SIG_THR_RESTART has been SIGXCPU which is now used for threads
*** (maybe) gcc-4.9 which links against libgc...? (affects objc related code only)
*** dietlibc (patch sent upstream) - https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=769105   TODO: make patch for dietlibc to use LONG_LONG_PAIR for ftruncate64() and then rebuild util-vserver package

== Considerations between Debian unstable and Debian Jessie release ==
Jessie was not stable on SMP machines, particularly those with PA8800/PA8900 processors.
It's recommended to use kernel 4.4.15 or later. 
The current default gcc for unstable is gcc 5.4. Most hppa fixes have been back ported to 4.9 but not all. 
It shouldn't hurt to use binutils from unstable.
Debian glibc 2.23 is best. Most old packages should still work although there maybe inequivalent aliasing issues
which are relevant on PA8800. There's also a nasty issue with gmon_start being in every shared library in Jessie.
This caused a few headaches and potentially breaks applications when it's removed from a library. If you
stick with the glibc in Jessie, multithreaded applications may not work as well as they could,
but maybe that's not important.
The kernel update is the most important one.
Since hppa moved to ports, there has been a huge number of bug fixes. System stability is
dramatically improved and I believe more packages are available than ever before. It's better to run unstable
and just be selective about running "apt-get upgrade".
(by Dave Anglin)

== parisc-linux.org Homepage and Debian build server infrastructure work ==
* DONE: Ask Thibaut to add ftp mirror of http://ftp.parisc-linux.org/debian_ports on http://www.fr.parisc-linux.org/ 
* DONE: Set up a buildd server for debian-ports/unstable & experimental -> http://unstable.buildd.net/index-hppa.html
* DONE: contact pannonmage@gmail.com (Nemeth Balint, Budapest) to set up buildd server - mail from 04.08.2013
* Offer from Mike Hosken <mike@csystems.co.nz> for A400 system as buildd - mail from 18.09.2014 and 17.05.2015
* DONE: set up buildd server on ESIEE's A500 (Thibaut) - mail from 13.08.2013
* DONE Sep 12 2014: migrate mail forward service for parisc-linux.org to A500 machine
* DONE Sep 12 2014: restore web-based http://ftp.parisc-linux.org service
* DONE Nov 24 2014: Import old hppa mailing list archives to gmane.org - http://dir.gmane.org/gmane.linux.ports.parisc
* Homepage migration:
** DONE: Migration of parisc-linux.org website to https://parisc.wiki.kernel.org
** DONE: Migration of wiki.parisc-linux.org website to https://parisc.wiki.kernel.org
** DONE: Domain owner before: Matt Taggart <matt@lackof.org>, Expiration Date:09-Aug-2014; Since August 2014 is Helge Deller domain owner of parisc-linux.org
** DONE: DNS takeover by Thibaut Varenet on 11/11/2013 - see: http://article.gmane.org/gmane.linux.ports.parisc/5478
** DONE: former Server administrator of parisc-linux.org: Dann Frazier - dannf@dannf.org, former technical contact at HP: brett.johnson@hp.com, Since August 2014 administrator/owner: Helge Deller

== Linus Torvalds barking at parisc ==
* https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=19b9ad67310ed2f685062a00aec602bec33835f0

= Testsuites, kernel and userspace testing tools =

* GLIBC issues and todos: https://sourceware.org/glibc/wiki/PortStatus
* https://github.com/linux-test-project/ltp - Linux Test Project
* http://codemonkey.org.uk/projects/trinity/ - Trinity - A Linux System call fuzz tester.

= TODO Drivers =

* write Lasi floppy driver
* write Suckyio floppy driver
* write spifi driver (rbrad)
* modify ncr53c8xx driver for Outfield (735 & 755)
* write GSC FDDI driver
* write Timi ASIC (74x) support
* EISA DMA support

== Review all the todo entries below! ==

* ns87415 dma doesn't work reliably on suckyio-systems

* fix HIL problem: ksoftirqd/0 eats 56% cpu (kernel 2.4 & kernel 2.6) - see FAQ: http://www.parisc-linux.org/faq/index.html and http://article.gmane.org/gmane.linux.ports.parisc/278/match=use+lower+nice+level+ksoftirqd+hil+enabled