---
title: Qemu
---

Qemu is still incomplete to fully support parisc.
Mostly hardware-emulation is missing.

Nevertheless, emulating a Linux system is already possible.


HOW TO QUICK-START AND RUN A PRECOMPILED QEMU:
----------------------------------------------

# Download statically compiled qemu: ftp://parisc.parisc-linux.org/qemu/qemu.tgz  (just 8MB)
# Untar the tar-gz file in some directory
# Download a debian install CD into the same directory, e.g. http://ftp.nz.parisc-linux.org/debian-cd/9.3/debian-9.3-hppa-CD-1.iso
# Run qemu (either via the provided startme.sh script), or manually:

./qemu-system-hppa -drive file=hdd.img,discard=unmap -accel tcg,thread=multi -smp cpus=2 -drive file=debian-9.3-hppa-CD-1.iso,media=cdrom -m 3600M -boot menu=off,order=d -serial mon:stdio -device e1000,netdev=net0 -netdev user,id=net0,hostfwd=tcp::5555-:22




HOW TO BUILD FROM SOURCE:
-------------------------

Richard Hendersons qemu git tree:
* https://github.com/rth7680/qemu/commits/tgt-hppa-softmmu
Helge Deller SeaBIOS git tree:
* https://github.com/hdeller/seabios-hppa/commits/parisc_firmware

Howto:
# checkout out trees above, configure and build
# copy (or symlink) the parisc firmware file "out/hppa-firmware.img" from seabios into the qemu "pc-bios/" directory
# qemu-img create -f qcow2 hdd.img 30G
# download install image: https://cdimage.debian.org/cdimage/ports/, e.g. https://cdimage.debian.org/cdimage/ports/9.0/hppa/iso-cd/debian-9.0-hppa-NETINST-1.iso
# ./hppa-softmmu/qemu-system-hppa -drive file=hdd.img -drive file=debian-9.0-hppa-NETINST-1.iso,media=cdrom -boot order=d -nographic -serial mon:stdio 


qemu options:
* -accel tcg,thread=multi  - always use this to enable parallel tcg (otherwise all guest CPUs run on one host CPU)
* -smp cpus=4      - define number of CPUs in the guest (maximum CPUs: 32) 
* -boot menu=on    - Firmware: enable interactive mode (boot prompt)
* -boot order=c    - Firmware: Boot from hard disc
* -boot order=d    - Firmware: Boot from CD/DVD
* -serial mon:stdio   use serial console
* -nographic       - no graphics device
* -device VGA      - provide PCI VGA graphic card

Examples:
* ./hppa-softmmu/qemu-system-hppa  -drive file=hdd.img  -drive file=debian-8.0-hppa-NETINST-1.iso,media=cdrom -nographic  -serial mon:stdio
* ./hppa-softmmu/qemu-system-hppa  -cdrom debian-8.0-hppa-NETINST-1.iso -nographic  -serial mon:stdio
* ./hppa-softmmu/qemu-system-hppa  -device virtio-scsi-pci,id=scsi -drive file=debian-8.0-hppa-NETINST-1.iso,if=scsi,media=cdrom,bus=0  -nographic  -serial mon:stdio
* ./hppa-softmmu/qemu-system-hppa  -device lsi53c895a,id=scsi      -drive file=debian-8.0-hppa-NETINST-1.iso,if=scsi,media=cdrom,bus=0  -nographic  -serial mon:stdio

How to run:
* ./hppa-softmmu/qemu-system-hppa -drive file=hdd.img -drive file=debian-8.0-hppa-NETINST-1.iso,media=cdrom -boot menu=on  -serial mon:stdio